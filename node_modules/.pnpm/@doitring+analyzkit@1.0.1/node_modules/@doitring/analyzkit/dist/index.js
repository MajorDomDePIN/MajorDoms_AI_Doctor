"use strict";Object.defineProperty(exports, "__esModule", {value: true}); function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; } function _optionalChain(ops) { let lastAccessLHS = undefined; let value = ops[0]; let i = 1; while (i < ops.length) { const op = ops[i]; const fn = ops[i + 1]; i += 2; if ((op === 'optionalAccess' || op === 'optionalCall') && value == null) { return undefined; } if (op === 'access' || op === 'optionalAccess') { lastAccessLHS = value; value = fn(value); } else if (op === 'call' || op === 'optionalCall') { value = fn((...args) => value.call(lastAccessLHS, ...args)); lastAccessLHS = undefined; } } return value; }var _chunkD725KIEBjs = require('./chunk-D725KIEB.js');var _chunkQMAESJYWjs = require('./chunk-QMAESJYW.js');var L={};_chunkQMAESJYWjs.a.call(void 0, L,{oxygens:()=>W,rates:()=>N,sleeps:()=>j,steps:()=>q});var j={};_chunkQMAESJYWjs.a.call(void 0, j,{daily:()=>I,day:()=>Q,month:()=>U,week:()=>R});var _dayjs = require('dayjs'); var _dayjs2 = _interopRequireDefault(_dayjs);function I(r){let a=_chunkQMAESJYWjs.o.call(void 0, r).map(e=>({..._chunkD725KIEBjs.b.call(void 0, e.data),...e})),t=+_chunkQMAESJYWjs.d.call(void 0, a.map(e=>e.durations.tol)).toFixed(0),n=+_chunkQMAESJYWjs.d.call(void 0, a.map(e=>e.score)).toFixed(0),s=_chunkQMAESJYWjs.e.call(void 0, [n>85,"high"],[n>60,"normal"],[n>0,"low"]),o=a.map(e=>_optionalChain([e, 'access', _2 => _2.data, 'access', _3 => _3[0], 'optionalAccess', _4 => _4.date])).filter(Boolean),m=a.map(e=>_optionalChain([e, 'access', _5 => _5.data, 'access', _6 => _6.at, 'call', _7 => _7(-1), 'optionalAccess', _8 => _8.date])).filter(Boolean),c=M(m).sort((e,g)=>e-g)[0],z=M(o).sort((e,g)=>e-g)[0],A=M(m).sort((e,g)=>e-g).at(-1),C=M(o).sort((e,g)=>e-g).at(-1),O={average:{sleep:_chunkD725KIEBjs.a.average("00:00",o),wakes:_chunkD725KIEBjs.a.average("08:00",m)},earliest:{wakes:c?_dayjs2.default.duration(c,"seconds").format("HH:mm"):void 0,sleep:z?_dayjs2.default.duration(z,"seconds").format("HH:mm"):void 0},atlatest:{wakes:A?_dayjs2.default.duration(A,"seconds").format("HH:mm"):void 0,sleep:C?_dayjs2.default.duration(C,"seconds").format("HH:mm"):void 0}};return{eval:s,score:n,daily:a,duration:t,times:O}}function M(r){return r.map(a=>{let[t,n]=_dayjs2.default.unix(a).format("HH:mm").split(":").map(Number);return _dayjs2.default.duration({hours:t,minutes:n}).asSeconds()}).sort((a,t)=>a-t)}function Q(r,a){let t=_chunkQMAESJYWjs.n.call(void 0, r,a),n=_chunkD725KIEBjs.b.call(void 0, t.data);return{...t,...n}}function R(r,a){let t=_chunkQMAESJYWjs.h.call(void 0, r,a,{difference:-43200});return{...I(t),data:t}}function U(r,a){let t=_chunkQMAESJYWjs.i.call(void 0, r,a,{difference:-43200});return{...I(t),data:t}}var W={};_chunkQMAESJYWjs.a.call(void 0, W,{daily:()=>B,day:()=>V,month:()=>Y,week:()=>X});function B(r){let a=_chunkQMAESJYWjs.k.call(void 0, r).map(o=>({..._chunkD725KIEBjs.d.call(void 0, o.data),...o})),t=_chunkQMAESJYWjs.d.call(void 0, a.map(o=>+o.average)),n=Math.min(...a.map(o=>o.min)),s=Math.max(...a.map(o=>o.max));return{average:t,daily:a,min:Math.abs(n)===1/0?0:n,max:Math.abs(s)===1/0?0:s}}function V(r,a){let t=_chunkQMAESJYWjs.g.call(void 0, r,a),n=_chunkD725KIEBjs.d.call(void 0, t.data),s=_chunkQMAESJYWjs.j.call(void 0, t.data,1800).map(o=>({..._chunkD725KIEBjs.d.call(void 0, o.data),...o}));return{...t,...n,hours:s}}function X(r,a){let t=_chunkQMAESJYWjs.h.call(void 0, r,a);return{...B(t),data:t}}function Y(r,a){let t=_chunkQMAESJYWjs.i.call(void 0, r,a);return{...B(t),data:t}}var N={};_chunkQMAESJYWjs.a.call(void 0, N,{daily:()=>T,day:()=>Z,month:()=>$,week:()=>_});function T(r){let a=_chunkQMAESJYWjs.k.call(void 0, r).map(o=>({..._chunkD725KIEBjs.e.call(void 0, o.data),...o})),t=+_chunkQMAESJYWjs.d.call(void 0, a.map(o=>o.average)).toFixed(0),n=Math.min(...a.map(o=>o.min)),s=Math.max(...a.map(o=>o.max));return{average:t,daily:a,min:Math.abs(n)===1/0?0:n,max:Math.abs(s)===1/0?0:s}}function Z(r,a){let t=_chunkQMAESJYWjs.g.call(void 0, r,a),n=_chunkD725KIEBjs.e.call(void 0, t.data),s=_chunkQMAESJYWjs.j.call(void 0, t.data,1800).map(o=>({..._chunkD725KIEBjs.e.call(void 0, o.data),...o}));return{...t,...n,hours:s}}function _(r,a){let t=_chunkQMAESJYWjs.h.call(void 0, r,a);return{...T(t),data:t}}function $(r,a){let t=_chunkQMAESJYWjs.i.call(void 0, r,a);return{...T(t),data:t}}var q={};_chunkQMAESJYWjs.a.call(void 0, q,{daily:()=>P,day:()=>rt,month:()=>nt,setup:()=>at,week:()=>ot});var D={target:1e4};function at(r){D.target=r}function P(r,a=D.target){let t=_chunkQMAESJYWjs.k.call(void 0, r).map(s=>({..._chunkD725KIEBjs.c.call(void 0, s.data,a),...s}));return{avers:{step:_chunkQMAESJYWjs.d.call(void 0, t.map(s=>s.total)),kcal:_chunkQMAESJYWjs.d.call(void 0, t.map(s=>+s.kcal)).toFixed(2),km:_chunkQMAESJYWjs.d.call(void 0, t.map(s=>+s.km)).toFixed(2)},daily:t}}function rt(r,a,t=D.target){let n=_chunkQMAESJYWjs.g.call(void 0, r,a),s=_chunkD725KIEBjs.c.call(void 0, n.data,t),o=_chunkQMAESJYWjs.j.call(void 0, n.data,1800).map(m=>{let c=_chunkD725KIEBjs.c.call(void 0, m.data);return{total:c.total,kcal:c.kcal,km:c.km,...m}});return{...n,...s,hours:o}}function ot(r,a,t=D.target){let n=_chunkQMAESJYWjs.h.call(void 0, r,a),s=K(t*7,.1),o=_chunkD725KIEBjs.c.call(void 0, n,s);return{...P(n,t),data:n,...o}}function nt(r,a,t=D.target){let n=_chunkQMAESJYWjs.i.call(void 0, r,a),s=_dayjs2.default.unix(r).daysInMonth(),o=K(t*s,.2),m=_chunkD725KIEBjs.c.call(void 0, n,o);return{...P(n,t),data:n,...m}}function K(r,a){return r-r*a}exports.groupings = _chunkQMAESJYWjs.p; exports.ratings = _chunkD725KIEBjs.f; exports.statistics = L; exports.utils = _chunkQMAESJYWjs.f;
