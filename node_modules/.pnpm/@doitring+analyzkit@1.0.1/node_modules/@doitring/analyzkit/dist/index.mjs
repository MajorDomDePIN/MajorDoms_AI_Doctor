import{a as S,b as F,c as x,d as w,e as H,f as v}from"./chunk-F3AQVBD5.mjs";import{a as h,d as i,e as E,f as k,g as d,h as p,i as u,j as f,k as l,n as G,o as J,p as b}from"./chunk-IH6YSG65.mjs";var L={};h(L,{oxygens:()=>W,rates:()=>N,sleeps:()=>j,steps:()=>q});var j={};h(j,{daily:()=>I,day:()=>Q,month:()=>U,week:()=>R});import y from"dayjs";function I(r){let a=J(r).map(e=>({...F(e.data),...e})),t=+i(a.map(e=>e.durations.tol)).toFixed(0),n=+i(a.map(e=>e.score)).toFixed(0),s=E([n>85,"high"],[n>60,"normal"],[n>0,"low"]),o=a.map(e=>e.data[0]?.date).filter(Boolean),m=a.map(e=>e.data.at(-1)?.date).filter(Boolean),c=M(m).sort((e,g)=>e-g)[0],z=M(o).sort((e,g)=>e-g)[0],A=M(m).sort((e,g)=>e-g).at(-1),C=M(o).sort((e,g)=>e-g).at(-1),O={average:{sleep:S.average("00:00",o),wakes:S.average("08:00",m)},earliest:{wakes:c?y.duration(c,"seconds").format("HH:mm"):void 0,sleep:z?y.duration(z,"seconds").format("HH:mm"):void 0},atlatest:{wakes:A?y.duration(A,"seconds").format("HH:mm"):void 0,sleep:C?y.duration(C,"seconds").format("HH:mm"):void 0}};return{eval:s,score:n,daily:a,duration:t,times:O}}function M(r){return r.map(a=>{let[t,n]=y.unix(a).format("HH:mm").split(":").map(Number);return y.duration({hours:t,minutes:n}).asSeconds()}).sort((a,t)=>a-t)}function Q(r,a){let t=G(r,a),n=F(t.data);return{...t,...n}}function R(r,a){let t=p(r,a,{difference:-43200});return{...I(t),data:t}}function U(r,a){let t=u(r,a,{difference:-43200});return{...I(t),data:t}}var W={};h(W,{daily:()=>B,day:()=>V,month:()=>Y,week:()=>X});function B(r){let a=l(r).map(o=>({...w(o.data),...o})),t=i(a.map(o=>+o.average)),n=Math.min(...a.map(o=>o.min)),s=Math.max(...a.map(o=>o.max));return{average:t,daily:a,min:Math.abs(n)===1/0?0:n,max:Math.abs(s)===1/0?0:s}}function V(r,a){let t=d(r,a),n=w(t.data),s=f(t.data,1800).map(o=>({...w(o.data),...o}));return{...t,...n,hours:s}}function X(r,a){let t=p(r,a);return{...B(t),data:t}}function Y(r,a){let t=u(r,a);return{...B(t),data:t}}var N={};h(N,{daily:()=>T,day:()=>Z,month:()=>$,week:()=>_});function T(r){let a=l(r).map(o=>({...H(o.data),...o})),t=+i(a.map(o=>o.average)).toFixed(0),n=Math.min(...a.map(o=>o.min)),s=Math.max(...a.map(o=>o.max));return{average:t,daily:a,min:Math.abs(n)===1/0?0:n,max:Math.abs(s)===1/0?0:s}}function Z(r,a){let t=d(r,a),n=H(t.data),s=f(t.data,1800).map(o=>({...H(o.data),...o}));return{...t,...n,hours:s}}function _(r,a){let t=p(r,a);return{...T(t),data:t}}function $(r,a){let t=u(r,a);return{...T(t),data:t}}var q={};h(q,{daily:()=>P,day:()=>rt,month:()=>nt,setup:()=>at,week:()=>ot});import tt from"dayjs";var D={target:1e4};function at(r){D.target=r}function P(r,a=D.target){let t=l(r).map(s=>({...x(s.data,a),...s}));return{avers:{step:i(t.map(s=>s.total)),kcal:i(t.map(s=>+s.kcal)).toFixed(2),km:i(t.map(s=>+s.km)).toFixed(2)},daily:t}}function rt(r,a,t=D.target){let n=d(r,a),s=x(n.data,t),o=f(n.data,1800).map(m=>{let c=x(m.data);return{total:c.total,kcal:c.kcal,km:c.km,...m}});return{...n,...s,hours:o}}function ot(r,a,t=D.target){let n=p(r,a),s=K(t*7,.1),o=x(n,s);return{...P(n,t),data:n,...o}}function nt(r,a,t=D.target){let n=u(r,a),s=tt.unix(r).daysInMonth(),o=K(t*s,.2),m=x(n,o);return{...P(n,t),data:n,...m}}function K(r,a){return r-r*a}export{b as groupings,v as ratings,L as statistics,k as utils};
